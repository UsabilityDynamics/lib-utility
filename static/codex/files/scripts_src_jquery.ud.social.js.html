<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>scripts/src/jquery.ud.social.js - usabilitydynamics/lib-utility</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="usabilitydynamics/lib-utility"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Utility.html">Utility</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/event.html">event</a></li>
            
                <li><a href="../modules/ud.html">ud</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: scripts/src/jquery.ud.social.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/* =========================================================
 * jquery.ud.social.js v1.0.0
 * http://usabilitydynamics.com
 * =========================================================
 *
 * Handle interaction with social sites.
 *
 * Validation: http://www.jslint.com/
 *
 * Copyright ( c ) 2012 Usability Dynamics, Inc. ( usabilitydynamics.com )
 * ========================================================= */

( function ( jQuery ) {
  &quot;use strict&quot;;

  jQuery.fn.social = function ( s ) {

    /* Set Settings */
    s = jQuery.extend( {
      element: this,
      networks: {
        linkedin: {
          profile_fields: {
            id: &#x27;network_id&#x27;,
            firstName: &#x27;first_name&#x27;,
            lastName: &#x27;last_name&#x27;,
            pictureUrl: &#x27;user_image&#x27;,
            headline: &#x27;headline&#x27;,
            industry: &#x27;industry&#x27;,
            summary: &#x27;summary&#x27;,
            specialties: &#x27;specialties&#x27;,
            location: &#x27;location&#x27;,
            associations: &#x27;associations&#x27;,
            certifications: &#x27;certifications&#x27;,
            educations: &#x27;educations&#x27;,
            skills: &#x27;skills&#x27;,
            patents: &#x27;patents&#x27;,
            honors: &#x27;honors&#x27;,
            proposalComments: &#x27;proposal_comments&#x27;,
            &#x27;three-current-positions&#x27;: &#x27;current_positions&#x27;,
            &#x27;recommendations-received&#x27;: &#x27;recommendations&#x27;,
            &#x27;main-address&#x27;: &#x27;primary_address&#x27;,
            &#x27;member-url-resources&#x27;: &#x27;url_resources&#x27;,
            &#x27;phone-numbers&#x27;: &#x27;phone_number&#x27;,
            &#x27;public-profile-url&#x27;: &#x27;profile_url&#x27;,
            &#x27;im-accounts&#x27;: &#x27;im_accounts&#x27;
          }
        }
      },
      user_data: {},
      debug: true
    }, s );

    /* Internal logging function */
    var log = this.log = function ( something, type ) {

      if ( !s.debug ) {
        return;
      }

      if ( window.console &amp;&amp; console.debug ) {

        if ( type === &#x27;error&#x27; ) {
          console.error( something );
        } else {
          console.log( something );
        }

      }

    };


    /**
     * The main function ran when the script is executed.
     *
     * Profile Fields: https://developer.linkedin.com/documents/profile-fields
     *
     * @called onLoad
     * @author potanin@UD
     */
    var handle_linkedin = this.handle_linkedin = function ( ) {
      log( &#x27;handle_linkedin()&#x27; );

      s.networks.linkedin.active = true;

      if( typeof IN.Event == &#x27;undefined&#x27;) {
        return;
      }

      jQuery( &#x27;.linkedin_asset&#x27; ).show();

      /* Executed after the current user has been authenticated */
      IN.Event.on( IN, &quot;auth&quot;, function() {
        log( &#x27;IN.Event::auth &#x27; );

        var these_fields = [];

        /* Create a simple array of LinkedIn-friendly fields */
        jQuery.each( s.networks.linkedin.profile_fields, function( network_key , global_key) {
          these_fields.push( network_key );
        });

        IN.API.Profile( &#x27;me&#x27; ).fields( these_fields ).result( function( profile ) {
          log( &#x27;IN.API.Profile()&#x27; );

          /* Cycle through returnes values and match the values up with global user meta keys */
          jQuery.each( profile.values[0], function( network_key, value ) {

            var global_key = s.networks.linkedin.profile_fields[ network_key ];

            if( typeof global_key == &#x27;undefined&#x27; || value == &#x27;&#x27; ) {
              return;
            }

            switch( network_key ) {

              case &#x27;location&#x27;:
                value = value.name;
              break;

            }

            s.user_data[global_key] = value;

          });

          s.user_data.display_name = s.user_data.first_name + &#x27; &#x27; + s.user_data.last_name;

          if( s.user_data ) {
            jQuery( &#x27;.linked_in_login&#x27; ).html(
            &#x27;&lt;p class=&quot;linkedin_authentication alert alert-info&quot;&gt;&#x27;
            + (  typeof s.user_data.user_image == &#x27;string&#x27; ? &#x27;&lt;img src=&quot;&#x27; + s.user_data.user_image + &#x27;&quot; class=&quot;user_image&quot;&gt;&#x27; : &#x27;&#x27; )
            + &#x27;&lt;span class=&quot;welcome_text&quot;&gt;Hello, &lt;b&gt;&#x27;  +  s.user_data.first_name + &#x27;&lt;/b&gt;! &lt;/span&gt;&#x27;
            + ( typeof s.user_data.headline == &#x27;string&#x27; ? &#x27;&lt;span class=&quot;linkedin_headline&quot;&gt;&#x27; + s.user_data.headline + &#x27;&lt;/span&gt;&#x27; : &#x27;&#x27; )
            + ( typeof s.user_data.industry == &#x27;string&#x27; ? &#x27;&lt;span class=&quot;linkedin_industry&quot;&gt;&#x27; + s.user_data.industry + &#x27;&lt;/span&gt;&#x27; : &#x27;&#x27; )
            + &#x27;&lt;/p&gt;&#x27;);
          }

          jQuery( document ).trigger( &#x27;social::user_data_update&#x27; , s.user_data );

        });

        jQuery( document ).bind( &#x27;social::user_logout&#x27;, function() {

          if( typeof IN  == &#x27;object&#x27; &amp;&amp; typeof IN.User != &#x27;undefined&#x27; ) {
            IN.User.logout();
          }

        });



      });

    }


    /**
     * The main function ran when the script is executed.
     *
     */
    var user_logout = this.user_logout = function() {

      jQuery( document ).trigger( &#x27;social::user_logout&#x27; );

    }


    /**
     * The main function ran when the script is executed.
     *
     */
    var enable = this.enable = function ( ) {
      log( &#x27;social::enable()&#x27; );

      /* Detect Social Networks */
      if( typeof (IN) == &#x27;object&#x27; ) {
        handle_linkedin();
      }

    };


    /* Authormatically enable */
    this.enable( );

    /* Return object for chaining */
    return this;

  };

} ( jQuery ) );

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
