<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>scripts/src/jquery.ud.execute-triggers.js - usabilitydynamics/lib-utility</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="usabilitydynamics/lib-utility"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Utility.html">Utility</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/event.html">event</a></li>
            
                <li><a href="../modules/ud.html">ud</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: scripts/src/jquery.ud.execute-triggers.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/* =========================================================
 * jquery.ud.execute_triggers.js v1.0.1
 * http://usabilitydynamics.com
 * =========================================================
 * Copyright 2012 Usability Dynamics, Inc.
 *
 * Validation: http://www.jslint.com/
 *
 * The plugin handles jQuery Trigger execution by DOM elements.
 *
 * ==USAGE==
 *
 * Initialization:
 * jQuery( &#x27;.execute_triggers&#x27; ).execute_triggers();
 *
 * HTML Usage:
 * &lt;span class=&quot;execute_triggers&quot; execute_triggers=&quot;bound_trigger&quot; action=&quot;custom_action&quot; custom_argument=&quot;10&quot;&gt;Do Something&lt;/span&gt;
 *
 * Bound Trigger:
 * jQuery( document ).bind( &#x27;bound_trigger&#x27; , function( event, args ) {
 *    if( args.attributes.action == &#x27;custom_action&#x27; &amp;&amp; args.attributes.custom_argument !== 0 ) {
 *      // Do Stuff
 *    }
 * }
 *
 * Built-in Attributes:
 * - execute_once : Will bind the target action to only run once.  By default, the target function will be run everytime.
 *
 *
 *
 * Copyright (c) 2012 Usability Dynamics, Inc. ( usabilitydynamics.com )
 * ========================================================= */

/*jslint indent: 2 */
/*global window */
/*global console */
/*global clearTimeout */
/*global setTimeout */
/*global jQuery */

( function ( jQuery ) {
  &quot;use strict&quot;;

  jQuery.fn.execute_triggers = function ( s ) {

    /* Set Settings */
    s = jQuery.extend( {
      element: this,
      ux: {},
      timers: {},
      debug: false
    }, s );


    /* Internal logging function */
    var log = this.log = function ( something, type ) {

      if ( !s.debug ) {
        return;
      }

      if ( window.console &amp;&amp; console.debug ) {

        if ( type === &#x27;error&#x27; ) {
          console.error( something );
        } else {
          console.log( something );
        }

      }

    };


    /**
     * The main function ran when the script is initialized.
     *
     * @author potanin@UD
     */
    var enable = this.enable = function () {
      log( &#x27;execute_triggers::enable()&#x27; );

      /* Cycle through all triggers */
      jQuery( s.element ).each( function() {


        if( typeof jQuery( this ).attr( &#x27;execute_once&#x27; ) !== &#x27;undefined&#x27; ){

          jQuery( this ).one( &#x27;click&#x27;, function( event ) {
            execute_triggers( event );
          });

        } else {

          /* Attach &quot;click&quot; listener event to this trgger. Unbind first incase this function is ran more than once. */
          jQuery( this ).unbind( &#x27;click&#x27; ).bind( &#x27;click&#x27;, function( event ) {
            execute_triggers( event );
          });

        }

      });

    };


    /**
     * The main function ran when the script is executed.
     *
     * @author potanin@UD
     */
    var execute_triggers = this.execute_triggers = function ( event ) {
      log( &#x27;execute_triggers::execute_triggers()&#x27; );
      
      event.preventDefault();

      var args = jQuery.extend( true, {
        position: [ event.clientX, event.clientY ],
        attributes: {},
        element: event.currentTarget,
        triggers: jQuery( event.currentTarget ).attr( &#x27;execute_triggers&#x27; )
      }, event );

      /* Bail if there is are no triggers */
      if( typeof( args.triggers ) == &#x27;undefined&#x27; || args.triggers == &#x27;&#x27; ) {
        return;
      }

      /* Convert all element attributes into an array */
      jQuery.each( args.element.attributes, function( index, attr ) {
        args.attributes[attr.name] = attr.value;
      });

      /* Convert trigger string into array */
      args.triggers = args.triggers.split( &#x27;,&#x27; );

      /* Do some data cleansing */
      jQuery.each( args.triggers , function( index, trigger_name ) {
         args.triggers[ index ] = jQuery.trim( trigger_name );
      })

      /* Cycle through and actually execute */
      jQuery.each( args.triggers , function( index, trigger_name ) {

        args.this_trigger_count = index;

        jQuery( document ).trigger( trigger_name, args );

      });

    };

    /* Enable */
    this.enable();

    /* Return object for chaining */
    return this;

  };

} ( jQuery ) );

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
